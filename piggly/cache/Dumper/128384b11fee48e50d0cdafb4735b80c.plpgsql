BEGIN
  RETURN GREATEST(LEAST(p_quality, 50), 0);
END;